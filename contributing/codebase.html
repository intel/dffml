<!DOCTYPE html>
<html class="writer-html5" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codebase Layout And Notes &mdash; DFFML 0.3.7 documentation</title>
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script type="text/javascript" src="../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Git and GitHub" href="git.html" />
    <link rel="prev" title="Style" href="style.html" />
</head>

<body class="wy-body-for-nav">
    <div class="wy-grid-for-nav">
        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
            <div class="wy-side-scroll">
                <div class="wy-side-nav-search">
                    <a href="../index.html" class="icon icon-home" alt="Documentation Home"> DFFML
                    </a>
                    <div class="version">
                        0.3.7
                    </div>
                    <div role="search">
                        <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
                            <input type="text" name="q" placeholder="Search docs" />
                            <input type="hidden" name="check_keywords" value="yes" />
                            <input type="hidden" name="area" value="default" />
                        </form>
                    </div>
                </div>
                <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                    <p class="caption"><span class="caption-text">Introduction</span></p>
                    <ul>
                        <li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">Concepts</a></li>
                    </ul>
                    <p class="caption"><span class="caption-text">Examples</span></p>
                    <ul>
                        <li class="toctree-l1"><a class="reference internal" href="../quickstart/model.html">Quickstart</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../usage/index.html">Use Cases</a></li>
                    </ul>
                    <p class="caption"><span class="caption-text">Reference</span></p>
                    <ul>
                        <li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../plugins/service/http/index.html">HTTP API</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../api/index.html">API Reference</a></li>
                    </ul>
                    <p class="caption"><span class="caption-text">Community</span></p>
                    <ul class="current">
                        <li class="toctree-l1"><a class="reference external" href="https://github.com/intel/dffml">GitHub</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../contact.html">Contact Us</a></li>
                        <li class="toctree-l1 current"><a class="reference internal" href="index.html">Contributing</a>
                            <ul class="current">
                                <li class="toctree-l2"><a class="reference internal" href="dev_community.html">What To Work On</a></li>
                                <li class="toctree-l2"><a class="reference internal" href="dev_env.html">Getting Set Up To Work On DFFML</a></li>
                                <li class="toctree-l2"><a class="reference internal" href="style.html">Style</a></li>
                                <li class="toctree-l2 current"><a class="current reference internal" href="#">Codebase Layout And Notes</a>
                                    <ul>
                                        <li class="toctree-l3"><a class="reference internal" href="#plugins">Plugins</a>
                                            <ul>
                                                <li class="toctree-l4"><a class="reference internal" href="#adding-a-new-plugin">Adding A New Plugin</a></li>
                                            </ul>
                                        </li>
                                        <li class="toctree-l3"><a class="reference internal" href="#one-two-punch">One-Two Punch</a></li>
                                        <li class="toctree-l3"><a class="reference internal" href="#config">Config</a></li>
                                        <li class="toctree-l3"><a class="reference internal" href="#setup-py">setup.py</a>
                                            <ul>
                                                <li class="toctree-l4"><a class="reference internal" href="#checking-for-development-version">Checking For Development Version</a></li>
                                            </ul>
                                        </li>
                                        <li class="toctree-l3"><a class="reference internal" href="#notes-on-various-subsystems">Notes on Various Subsystems</a>
                                            <ul>
                                                <li class="toctree-l4"><a class="reference internal" href="#working-on-skel">Working on <code class="docutils literal notranslate"><span class="pre">skel/</span></code></a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li class="toctree-l2"><a class="reference internal" href="git.html">Git and GitHub</a></li>
                                <li class="toctree-l2"><a class="reference internal" href="testing.html">Testing</a></li>
                                <li class="toctree-l2"><a class="reference internal" href="docs.html">Documentation</a></li>
                                <li class="toctree-l2"><a class="reference internal" href="debugging.html">Debugging</a></li>
                                <li class="toctree-l2"><a class="reference internal" href="editors/index.html">Setting Up Your Editor</a></li>
                                <li class="toctree-l2"><a class="reference internal" href="maintainers.html">Maintainer Docs</a></li>
                            </ul>
                        </li>
                        <li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
            <nav class="wy-nav-top" aria-label="top navigation">
                <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
                <a href="../index.html">DFFML</a>
            </nav>
            <div class="wy-nav-content">
                <div class="rst-content">
                    <div role="navigation" aria-label="breadcrumbs navigation">
                        <ul class="wy-breadcrumbs">
                            <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
                            <li><a href="index.html">Contributing</a> &raquo;</li>
                            <li>Codebase Layout And Notes</li>
                            <li class="wy-breadcrumbs-aside">
                                <a href="https://github.com/intel/dffml/blob/master/docs/contributing/codebase.rst" class="fa fa-github"> Edit on GitHub</a>
                            </li>
                        </ul>
                        <hr />
                    </div>
                    <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
                        <div itemprop="articleBody">
                            <div class="section" id="codebase-layout-and-notes">
                                <h1><a class="toc-backref" href="#id1">Codebase Layout And Notes</a><a class="headerlink" href="#codebase-layout-and-notes" title="Permalink to this headline">Â¶</a></h1>
                                <div class="contents topic" id="contents">
                                    <p class="topic-title">Contents</p>
                                    <ul class="simple">
                                        <li>
                                            <p><a class="reference internal" href="#codebase-layout-and-notes" id="id1">Codebase Layout And Notes</a></p>
                                            <ul>
                                                <li>
                                                    <p><a class="reference internal" href="#plugins" id="id2">Plugins</a></p>
                                                    <ul>
                                                        <li>
                                                            <p><a class="reference internal" href="#adding-a-new-plugin" id="id3">Adding A New Plugin</a></p>
                                                        </li>
                                                    </ul>
                                                </li>
                                                <li>
                                                    <p><a class="reference internal" href="#one-two-punch" id="id4">One-Two Punch</a></p>
                                                </li>
                                                <li>
                                                    <p><a class="reference internal" href="#config" id="id5">Config</a></p>
                                                </li>
                                                <li>
                                                    <p><a class="reference internal" href="#setup-py" id="id6">setup.py</a></p>
                                                    <ul>
                                                        <li>
                                                            <p><a class="reference internal" href="#checking-for-development-version" id="id7">Checking For Development Version</a></p>
                                                        </li>
                                                    </ul>
                                                </li>
                                                <li>
                                                    <p><a class="reference internal" href="#notes-on-various-subsystems" id="id8">Notes on Various Subsystems</a></p>
                                                    <ul>
                                                        <li>
                                                            <p><a class="reference internal" href="#working-on-skel" id="id9">Working on <code class="docutils literal notranslate"><span class="pre">skel/</span></code></a></p>
                                                        </li>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                                <div class="section" id="plugins">
                                    <h2><a class="toc-backref" href="#id2">Plugins</a><a class="headerlink" href="#plugins" title="Permalink to this headline">Â¶</a></h2>
                                    <p>DFFML is plugin based. This means that the source code for the main
                                        package <code class="docutils literal notranslate"><span class="pre">dffml</span></code>, is separate from the source code for many of the things you
                                        might want to use in conjunction with it. For example, if you wanted to use the
                                        machine learning models based on scikit, youâd install <code class="docutils literal notranslate"><span class="pre">dffml-model-scikit</span></code>.
                                        If you wanted to use machine learning models based on TensorFlow, youâd install
                                        <code class="docutils literal notranslate"><span class="pre">dffml-model-tensorflow</span></code>. The source code for all <em>Official</em> plugins is within
                                        the same Git repo (<a class="reference external" href="https://github.com/intel/dffml">https://github.com/intel/dffml</a>).</p>
                                    <p>A <em>Official</em> plugin is any plugin maintained within the main Git repo.</p>
                                    <p>This means users only have to install what they need. TensorFlow is several
                                        hundred megabytes, not everyone wants that, or needs that to get machine
                                        learning models that preform accurately on their problem.</p>
                                    <p>All plugins have their base class that they derive from in the main package,
                                        which is located in the <code class="docutils literal notranslate"><span class="pre">dffml</span></code> directory at the root of the git repo.</p>
                                    <p>The plugin packages are located within their respective directories at the root
                                        of the git repo. For example, source base classes are in <code class="docutils literal notranslate"><span class="pre">dffml/source/</span></code> and
                                        source plugin packages are in <code class="docutils literal notranslate"><span class="pre">source/</span></code>.</p>
                                    <div class="section" id="adding-a-new-plugin">
                                        <h3><a class="toc-backref" href="#id3">Adding A New Plugin</a><a class="headerlink" href="#adding-a-new-plugin" title="Permalink to this headline">Â¶</a></h3>
                                        <p>To add a new <em>Official</em> plugin to DFFML. You need to first create the plugin in
                                            the appropriate directory. Then add it to the lists of core plugins.</p>
                                        <div class="admonition warning">
                                            <p class="admonition-title">Warning</p>
                                            <p>The release process is automated. You should <strong>NOT</strong> upload the package to
                                                PyPi! Someone from Intel has to be the one to do that for <em>Official</em>
                                                plugins.</p>
                                        </div>
                                        <p>For <em>Official</em> plugins, the name given to create should be in the form of
                                            <code class="docutils literal notranslate"><span class="pre">dffml-{PLUGIN_TYPE}-{NAME}</span></code>.</p>
                                        <div class="highlight-console notranslate">
                                            <div class="highlight">
                                                <pre><span></span><span class="gp">$</span> <span class="nb">cd</span> model/
<span class="gp">$</span> dffml service dev create model dffml-model-someframework
<span class="gp">$</span> mv dffml-model-someframework someframework
</pre>
                                            </div>
                                        </div>
                                        <p>Now that weâve created the plugin, we need to add it to a few lists</p>
                                        <ul class="simple">
                                            <li>
                                                <p>Add the plugin to <code class="docutils literal notranslate"><span class="pre">CORE_PLUGINS</span></code> list in <code class="docutils literal notranslate"><span class="pre">dffml/service/dev.py</span></code></p>
                                            </li>
                                            <li>
                                                <p>Update <code class="docutils literal notranslate"><span class="pre">.github/workflows/testing.yml</span></code></p>
                                                <ul>
                                                    <li>
                                                        <p>Add the path to the plugin to the <code class="docutils literal notranslate"><span class="pre">jobs.test.strategy.matrix.plugin</span></code> list.</p>
                                                    </li>
                                                    <li>
                                                        <p>Open an issue to have the <code class="docutils literal notranslate"><span class="pre">PYPI_{PLUGIN_TYPE}_{NAME}</span></code> token added under
                                                            <code class="docutils literal notranslate"><span class="pre">jobs.steps[-1].run</span></code>.</p>
                                                        <ul>
                                                            <li>
                                                                <p>Sample issue format: <code class="docutils literal notranslate"><span class="pre">pypi:</span> <span class="pre">Add</span> <span class="pre">token</span> <span class="pre">for</span> <span class="pre">dffml-{PLUGIN_TYPE}-{NAME}</span> <span class="pre">to</span>
                                                                        <span class="pre">testing.yml</span></code></p>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li>
                                                <p>Update <code class="docutils literal notranslate"><span class="pre">scripts/docs/care</span></code> to add your plugin name (with underscores instead
                                                    of hyphens) on the line for the respective plugin type.</p>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="section" id="one-two-punch">
                                    <h2><a class="toc-backref" href="#id4">One-Two Punch</a><a class="headerlink" href="#one-two-punch" title="Permalink to this headline">Â¶</a></h2>
                                    <p>All classes in DFFML follow a double asynchronous context entry pattern. This is
                                        ideal for usages such as creating a connection pool, then using a connection. Be
                                        that with a database, client HTTP sessions, etc.</p>
                                    <div class="highlight-python notranslate">
                                        <div class="highlight">
                                            <pre><span></span><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">dffml.record</span> <span class="kn">import</span> <span class="n">Record</span>
<span class="kn">from</span> <span class="nn">dffml.source.csv</span> <span class="kn">import</span> <span class="n">CSVSource</span><span class="p">,</span> <span class="n">CSVSourceConfig</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="c1"># One</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">CSVSource</span><span class="p">(</span>
        <span class="n">CSVSourceConfig</span><span class="p">(</span>
            <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;test.csv&quot;</span><span class="p">,</span>
            <span class="n">allowempty</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">readwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">source</span><span class="p">:</span>
        <span class="c1"># Two</span>
        <span class="k">async</span> <span class="k">with</span> <span class="n">source</span><span class="p">()</span> <span class="k">as</span> <span class="n">sctx</span><span class="p">:</span>
            <span class="c1"># Punch</span>
            <span class="k">await</span> <span class="n">sctx</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Record</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;features&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;first_column&quot;</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
                    <span class="s2">&quot;second_column&quot;</span><span class="p">:</span> <span class="mi">1776</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="p">}))</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre>
                                        </div>
                                    </div>
                                </div>
                                <div class="section" id="config">
                                    <h2><a class="toc-backref" href="#id5">Config</a><a class="headerlink" href="#config" title="Permalink to this headline">Â¶</a></h2>
                                    <p>Much of the DFFML codebase is dedicated to transforming configuration structures
                                        between their incoming form to a <code class="docutils literal notranslate"><span class="pre">dict</span></code> which can be used to determine what
                                        plugin needs to be loaded, and what the arguments for the configuration class of
                                        that plugin are.</p>
                                    <p>For example:</p>
                                    <div class="highlight-yaml notranslate">
                                        <div class="highlight">
                                            <pre><span></span><span class="nt">model</span><span class="p">:</span>
  <span class="nt">plugin</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tfdnnc</span>
  <span class="nt">config</span><span class="p">:</span>
    <span class="nt">epochs</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">400</span>
    <span class="nt">steps</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4000</span>
    <span class="nt">classifications</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="s">&#39;0&#39;</span>
    <span class="p p-Indicator">-</span> <span class="s">&#39;1&#39;</span>
    <span class="nt">predict</span><span class="p">:</span>
      <span class="nt">dtype</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">int</span>
      <span class="nt">length</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">maintained</span>
    <span class="nt">features</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">dtype</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">int</span>
      <span class="nt">length</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">authors</span>
    <span class="p p-Indicator">-</span> <span class="nt">dtype</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">int</span>
      <span class="nt">length</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">commits</span>
    <span class="p p-Indicator">-</span> <span class="nt">dtype</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">int</span>
      <span class="nt">length</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">work</span>
</pre>
                                        </div>
                                    </div>
                                    <p>Here, <code class="docutils literal notranslate"><span class="pre">plugin</span></code> is the <code class="docutils literal notranslate"><span class="pre">...Arg</span></code> class which signifies the plugin to load.
                                        <code class="docutils literal notranslate"><span class="pre">config</span></code> is the <code class="docutils literal notranslate"><span class="pre">...Config</span></code> class as a dict for that plugin.</p>
                                    <p>The command line equivalent for the model isâ¦</p>
                                    <div class="highlight-console notranslate">
                                        <div class="highlight">
                                            <pre><span></span><span class="gp">$</span> dffml ... <span class="se">\</span>
    -model tfdnnc <span class="se">\</span>
    -model-epochs <span class="m">400</span> <span class="se">\</span>
    -model-steps <span class="m">4000</span> <span class="se">\</span>
    -model-classifications <span class="m">0</span> <span class="m">1</span> <span class="se">\</span>
    -model-predict maintained:str:1 <span class="se">\</span>
    -model-features <span class="se">\</span>
      authors:int:10 <span class="se">\</span>
      commits:int:10 <span class="se">\</span>
      work:int:10 <span class="se">\</span>
</pre>
                                        </div>
                                    </div>
                                </div>
                                <div class="section" id="setup-py">
                                    <h2><a class="toc-backref" href="#id6">setup.py</a><a class="headerlink" href="#setup-py" title="Permalink to this headline">Â¶</a></h2>
                                    <p>There are various <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> files throughout the codebase, one for the main
                                        package, one for each plugin, and one in <code class="docutils literal notranslate"><span class="pre">skel/</span></code>. There are also
                                        <code class="docutils literal notranslate"><span class="pre">setup_common.py</span></code> files.</p>
                                    <div class="section" id="checking-for-development-version">
                                        <h3><a class="toc-backref" href="#id7">Checking For Development Version</a><a class="headerlink" href="#checking-for-development-version" title="Permalink to this headline">Â¶</a></h3>
                                        <p>You might have asked yourself, what is this thing?</p>
                                        <div class="highlight-python notranslate">
                                            <div class="highlight">
                                                <pre><span></span><span class="n">INSTALL_REQUIRES</span> <span class="o">=</span> <span class="p">[]</span> <span class="o">+</span> <span class="p">(</span>
    <span class="p">[</span><span class="s2">&quot;dffml&gt;=0.3.7&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span>
        <span class="nb">list</span><span class="p">(</span>
            <span class="nb">map</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">,</span>
                <span class="nb">list</span><span class="p">(</span>
                    <span class="nb">map</span><span class="p">(</span>
                        <span class="k">lambda</span> <span class="n">syspath</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                            <span class="n">syspath</span><span class="p">,</span> <span class="s2">&quot;dffml.egg-link&quot;</span>
                        <span class="p">),</span>
                        <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">),</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="k">else</span> <span class="p">[]</span>
<span class="p">)</span>
</pre>
                                            </div>
                                        </div>
                                        <p>This code is needed because <code class="docutils literal notranslate"><span class="pre">python</span></code> will use extracted versions of packages
                                            over development versions if they are installed.</p>
                                        <p><code class="docutils literal notranslate"><span class="pre">pip</span></code> will download and extract a package (thereby installing it) if it sees
                                            it in the <code class="docutils literal notranslate"><span class="pre">INSTALL_REQUIRES</span></code> list. This wrecks havoc with our development
                                            workflow.</p>
                                        <p>For example, when we put the main package, <code class="docutils literal notranslate"><span class="pre">dffml</span></code> in the <code class="docutils literal notranslate"><span class="pre">INSTALL_REQUIRES</span></code>
                                            list of a plugin, <code class="docutils literal notranslate"><span class="pre">pip</span></code> will go off and download the appropriate version from
                                            PyPi and extract it to a place Python searches for packages. Now when we run
                                            anything weâll end up using the version <code class="docutils literal notranslate"><span class="pre">pip</span></code> just installed instead of the
                                            version weâre developing on locally.</p>
                                        <p>The solution to this is to add the above code block to <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> files. The
                                            innermost list is <code class="docutils literal notranslate"><span class="pre">sys.path</span></code>, which is all the places Python is going to look
                                            for packages when there is an <code class="docutils literal notranslate"><span class="pre">import</span></code> statement. We use <code class="docutils literal notranslate"><span class="pre">map</span></code> to apply a
                                            function to each directory in <code class="docutils literal notranslate"><span class="pre">sys.path</span></code>. The map will take the directory name
                                            and add <code class="docutils literal notranslate"><span class="pre">dffml.egg-link</span></code> to it. We add this because when you install something
                                            in development mode (<code class="docutils literal notranslate"><span class="pre">dffml</span></code> in this case) <code class="docutils literal notranslate"><span class="pre">pip</span></code> creates this <code class="docutils literal notranslate"><span class="pre">.egg-link</span></code>
                                            file. In the file is the path to the source code youâre working on. Therefore,
                                            if that file exists, then the package is installed in development mode. The next
                                            <code class="docutils literal notranslate"><span class="pre">map</span></code> then checks if any of the file paths generated by the previous <code class="docutils literal notranslate"><span class="pre">map</span></code>
                                            exist. If <code class="docutils literal notranslate"><span class="pre">any</span></code> of them exist, then there is a <code class="docutils literal notranslate"><span class="pre">.egg-link</span></code> file somewhere in
                                            Pythonâs search path, which means the package (<code class="docutils literal notranslate"><span class="pre">dffml</span></code> in this case, hence the
                                            <code class="docutils literal notranslate"><span class="pre">dffml.egg-link</span></code>) is installed in development mode.</p>
                                        <p>If the package is installed in development mode, then we donât want <code class="docutils literal notranslate"><span class="pre">pip</span></code> to
                                            install it from PyPi, since that would cause the development version not to be
                                            used.</p>
                                    </div>
                                </div>
                                <div class="section" id="notes-on-various-subsystems">
                                    <h2><a class="toc-backref" href="#id8">Notes on Various Subsystems</a><a class="headerlink" href="#notes-on-various-subsystems" title="Permalink to this headline">Â¶</a></h2>
                                    <p>DFFML is comprised of various subsystems. The following are some notes
                                        that might be helpful when working on each of them.</p>
                                    <div class="section" id="working-on-skel">
                                        <h3><a class="toc-backref" href="#id9">Working on <code class="docutils literal notranslate"><span class="pre">skel/</span></code></a><a class="headerlink" href="#working-on-skel" title="Permalink to this headline">Â¶</a></h3>
                                        <p>The packages in <code class="docutils literal notranslate"><span class="pre">skel/</span></code> are used to create new DFFML packages.</p>
                                        <p>For example, to create a new package containing operations we run the following.</p>
                                        <div class="highlight-console notranslate">
                                            <div class="highlight">
                                                <pre><span></span><span class="gp">$</span> dffml service dev create operations dffml-operations-feedface
</pre>
                                            </div>
                                        </div>
                                        <p>If you want to work on any of the packages in <code class="docutils literal notranslate"><span class="pre">skel/</span></code>, youâll need to run the
                                            <code class="docutils literal notranslate"><span class="pre">skel</span> <span class="pre">link</span></code> command first fromt he <code class="docutils literal notranslate"><span class="pre">dev</span></code> service. This will symlink required
                                            files in from <code class="docutils literal notranslate"><span class="pre">common/</span></code> so that testing will work.</p>
                                        <div class="highlight-console notranslate">
                                            <div class="highlight">
                                                <pre><span></span><span class="gp">$</span> dffml service dev skel link
</pre>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <footer>
                        <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
                            <a href="git.html" class="btn btn-neutral float-right" title="Git and GitHub" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
                            <a href="style.html" class="btn btn-neutral float-left" title="Style" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
                        </div>
                        <hr />
                        <div role="contentinfo">
                            <p>
                                &copy; Copyright 2019, Intel
                            </p>
                        </div>
                        Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
                        <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
                        provided by <a href="https://readthedocs.org">Read the Docs</a>.
                    </footer>
                </div>
            </div>
        </section>
    </div>
    <script type="text/javascript">
    jQuery(function() {
        SphinxRtdTheme.Navigation.enable(true);
    });
    </script>
</body>

</html>