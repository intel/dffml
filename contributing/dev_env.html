<!DOCTYPE html>
<html class="writer-html5" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Getting Set Up To Work On DFFML &mdash; DFFML 0.3.7 documentation</title>
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script type="text/javascript" src="../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Style" href="style.html" />
    <link rel="prev" title="What To Work On" href="dev_community.html" />
</head>

<body class="wy-body-for-nav">
    <div class="wy-grid-for-nav">
        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
            <div class="wy-side-scroll">
                <div class="wy-side-nav-search">
                    <a href="../index.html" class="icon icon-home" alt="Documentation Home"> DFFML
                    </a>
                    <div class="version">
                        0.3.7
                    </div>
                    <div role="search">
                        <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
                            <input type="text" name="q" placeholder="Search docs" />
                            <input type="hidden" name="check_keywords" value="yes" />
                            <input type="hidden" name="area" value="default" />
                        </form>
                    </div>
                </div>
                <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                    <p class="caption"><span class="caption-text">Introduction</span></p>
                    <ul>
                        <li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">Concepts</a></li>
                    </ul>
                    <p class="caption"><span class="caption-text">Examples</span></p>
                    <ul>
                        <li class="toctree-l1"><a class="reference internal" href="../quickstart/model.html">Quickstart</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../usage/index.html">Use Cases</a></li>
                    </ul>
                    <p class="caption"><span class="caption-text">Reference</span></p>
                    <ul>
                        <li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../plugins/service/http/index.html">HTTP API</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../api/index.html">API Reference</a></li>
                    </ul>
                    <p class="caption"><span class="caption-text">Community</span></p>
                    <ul class="current">
                        <li class="toctree-l1"><a class="reference external" href="https://github.com/intel/dffml">GitHub</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../contact.html">Contact Us</a></li>
                        <li class="toctree-l1 current"><a class="reference internal" href="index.html">Contributing</a>
                            <ul class="current">
                                <li class="toctree-l2"><a class="reference internal" href="dev_community.html">What To Work On</a></li>
                                <li class="toctree-l2 current"><a class="current reference internal" href="#">Getting Set Up To Work On DFFML</a>
                                    <ul>
                                        <li class="toctree-l3"><a class="reference internal" href="#installing-plugins-in-development-mode">Installing Plugins In Development Mode</a></li>
                                        <li class="toctree-l3"><a class="reference internal" href="#virtual-environment">Virtual Environment</a></li>
                                        <li class="toctree-l3"><a class="reference internal" href="#containerized-development-environment">Containerized Development Environment</a></li>
                                    </ul>
                                </li>
                                <li class="toctree-l2"><a class="reference internal" href="style.html">Style</a></li>
                                <li class="toctree-l2"><a class="reference internal" href="codebase.html">Codebase Layout And Notes</a></li>
                                <li class="toctree-l2"><a class="reference internal" href="git.html">Git and GitHub</a></li>
                                <li class="toctree-l2"><a class="reference internal" href="testing.html">Testing</a></li>
                                <li class="toctree-l2"><a class="reference internal" href="docs.html">Documentation</a></li>
                                <li class="toctree-l2"><a class="reference internal" href="debugging.html">Debugging</a></li>
                                <li class="toctree-l2"><a class="reference internal" href="editors/index.html">Setting Up Your Editor</a></li>
                                <li class="toctree-l2"><a class="reference internal" href="maintainers.html">Maintainer Docs</a></li>
                            </ul>
                        </li>
                        <li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
            <nav class="wy-nav-top" aria-label="top navigation">
                <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
                <a href="../index.html">DFFML</a>
            </nav>
            <div class="wy-nav-content">
                <div class="rst-content">
                    <div role="navigation" aria-label="breadcrumbs navigation">
                        <ul class="wy-breadcrumbs">
                            <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
                            <li><a href="index.html">Contributing</a> &raquo;</li>
                            <li>Getting Set Up To Work On DFFML</li>
                            <li class="wy-breadcrumbs-aside">
                                <a href="https://github.com/intel/dffml/blob/master/docs/contributing/dev_env.rst" class="fa fa-github"> Edit on GitHub</a>
                            </li>
                        </ul>
                        <hr />
                    </div>
                    <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
                        <div itemprop="articleBody">
                            <div class="section" id="getting-set-up-to-work-on-dffml">
                                <h1><a class="toc-backref" href="#id1">Getting Set Up To Work On DFFML</a><a class="headerlink" href="#getting-set-up-to-work-on-dffml" title="Permalink to this headline">Â¶</a></h1>
                                <div class="contents topic" id="development-environment-setup-methods">
                                    <p class="topic-title">Development Environment Setup Methods</p>
                                    <ul class="simple">
                                        <li>
                                            <p><a class="reference internal" href="#getting-set-up-to-work-on-dffml" id="id1">Getting Set Up To Work On DFFML</a></p>
                                            <ul>
                                                <li>
                                                    <p><a class="reference internal" href="#installing-plugins-in-development-mode" id="id2">Installing Plugins In Development Mode</a></p>
                                                </li>
                                                <li>
                                                    <p><a class="reference internal" href="#virtual-environment" id="id3">Virtual Environment</a></p>
                                                </li>
                                                <li>
                                                    <p><a class="reference internal" href="#containerized-development-environment" id="id4">Containerized Development Environment</a></p>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                                <p>To start contributing code to DFFML youâll need to download and install it in
                                    development mode.</p>
                                <div class="admonition note">
                                    <p class="admonition-title">Note</p>
                                    <p>If you donât want to deal with installing Python 3.7 or getting your
                                        development environment setup locally on your machine (since that can be a
                                        pain sometimes), thereâs an online IDE called GitPod that seems pretty
                                        useful which you can also use to get started working with on DFFML right
                                        away.</p>
                                    <a class="reference external image-reference" href="https://gitpod.io/#https://github.com/intel/dffml"><img alt="https://gitpod.io/button/open-in-gitpod.svg" src="https://gitpod.io/button/open-in-gitpod.svg" /></a>
                                </div>
                                <p>Before you install DFFML in development mode be sure to uninstall it! Python
                                    will use the version installed from PyPi rather than youâre development version
                                    unless you uninstall it first!</p>
                                <div class="highlight-console notranslate">
                                    <div class="highlight">
                                        <pre><span></span><span class="gp">$</span> python3.7 -m pip uninstall dffml
</pre>
                                    </div>
                                </div>
                                <p>Once youâre sure DFFML is not installed on your system, install it in
                                    development mode.</p>
                                <p>Installing to your home directory is the recommended installation method. To do
                                    this we use the <code class="docutils literal notranslate"><span class="pre">--prefix=~/.local</span></code> flag.</p>
                                <div class="admonition note">
                                    <p class="admonition-title">Note</p>
                                    <p><code class="docutils literal notranslate"><span class="pre">pip</span></code> sometimes gets confused about the <code class="docutils literal notranslate"><span class="pre">--user</span></code> flag (and will blow up
                                        in your face if you try to pass it). So we use the <code class="docutils literal notranslate"><span class="pre">--prefix=~/.local</span></code>
                                        flag, which has the same effect but should always work.</p>
                                </div>
                                <p><code class="docutils literal notranslate"><span class="pre">[dev]</span></code> tells <code class="docutils literal notranslate"><span class="pre">pip</span></code> to install the dependencies youâll need to do
                                    development work on DFFML (such as documentation generation utilities).</p>
                                <div class="highlight-console notranslate">
                                    <div class="highlight">
                                        <pre><span></span><span class="gp">$</span> git clone https://github.com/intel/dffml
<span class="gp">$</span> <span class="nb">cd</span> dffml
<span class="gp">$</span> python3.7 -m pip install --prefix<span class="o">=</span>~/.local -e .<span class="o">[</span>dev<span class="o">]</span>
</pre>
                                    </div>
                                </div>
                                <p>Verify you can use <code class="docutils literal notranslate"><span class="pre">dffml</span></code> from the command line.</p>
                                <div class="highlight-console notranslate">
                                    <div class="highlight">
                                        <pre><span></span><span class="gp">$</span> dffml version
<span class="go">dffml version 0.3.1 (devmode: /wherever/you/cloned/dffml)</span>
</pre>
                                    </div>
                                </div>
                                <p>If you see <code class="docutils literal notranslate"><span class="pre">dffml</span></code> in <code class="docutils literal notranslate"><span class="pre">~/.local/bin</span></code> but you canât run it on the command
                                    line, then youâll need to add that directory to your <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment
                                    variable. This might need to be in <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code>, <code class="docutils literal notranslate"><span class="pre">~/.bash_profile</span></code>, or
                                    <code class="docutils literal notranslate"><span class="pre">~/.profile</span></code>, depending on your flavor of UNIX or Linux Distro.</p>
                                <div class="highlight-console notranslate">
                                    <div class="highlight">
                                        <pre><span></span><span class="gp">$</span> <span class="nb">echo</span> <span class="s1">&#39;export PATH=&quot;${HOME}/.local/bin:${PATH}&quot;&#39;</span> &gt;&gt; ~/.bashrc
<span class="gp">$</span> <span class="nb">source</span> ~/.bashrc
</pre>
                                    </div>
                                </div>
                                <p>If you are working on any of the plugins to DFFML maintained within itâs
                                    repository make sure to install those in development mode as well.</p>
                                <p>For example, to install the TensorFlow models</p>
                                <div class="highlight-console notranslate">
                                    <div class="highlight">
                                        <pre><span></span><span class="gp">$</span> python3.7 -m pip install --prefix<span class="o">=</span>~/.local -e model/tensorflow
</pre>
                                    </div>
                                </div>
                                <div class="section" id="installing-plugins-in-development-mode">
                                    <span id="dev-env-install-official-plugins"></span>
                                    <h2><a class="toc-backref" href="#id2">Installing Plugins In Development Mode</a><a class="headerlink" href="#installing-plugins-in-development-mode" title="Permalink to this headline">Â¶</a></h2>
                                    <p>To install all the plugins in development mode use the development serviceâs
                                        install command.</p>
                                    <div class="admonition warning">
                                        <p class="admonition-title">Warning</p>
                                        <p>The <code class="docutils literal notranslate"><span class="pre">-user</span></code> flag tells pip to install to your home directory
                                            (in <code class="docutils literal notranslate"><span class="pre">~/.local</span></code>). Therefore, do NOT run install <code class="docutils literal notranslate"><span class="pre">-user</span></code> with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>.</p>
                                    </div>
                                    <div class="highlight-console notranslate">
                                        <div class="highlight">
                                            <pre><span></span><span class="gp">$</span> dffml service dev install -user
</pre>
                                        </div>
                                    </div>
                                </div>
                                <div class="section" id="virtual-environment">
                                    <h2><a class="toc-backref" href="#id3">Virtual Environment</a><a class="headerlink" href="#virtual-environment" title="Permalink to this headline">Â¶</a></h2>
                                    <p>Virtual environments give you a little more isolation than installing to your
                                        home directory. The disadvantage is you have to <code class="docutils literal notranslate"><span class="pre">activate</span></code> them every time you
                                        want to use the packages youâve installed in them.</p>
                                    <p>Python 3 should have <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> built in as <code class="docutils literal notranslate"><span class="pre">venv</span></code> if not you can just
                                        install <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> and use that.</p>
                                    <p>Create the virtual environment.</p>
                                    <div class="highlight-console notranslate">
                                        <div class="highlight">
                                            <pre><span></span><span class="gp">$</span> python3.7 -m venv .venv
</pre>
                                        </div>
                                    </div>
                                    <p>Activate it (on Linux / OSX / UNIX variants)</p>
                                    <div class="highlight-console notranslate">
                                        <div class="highlight">
                                            <pre><span></span><span class="gp">$</span> . .venv/bin/activate
</pre>
                                        </div>
                                    </div>
                                    <p>Activate it (on Widows)</p>
                                    <div class="highlight-console notranslate">
                                        <div class="highlight">
                                            <pre><span></span><span class="gp">$</span> .<span class="se">\.</span>venv<span class="se">\S</span>cripts<span class="se">\a</span>ctivate
</pre>
                                        </div>
                                    </div>
                                    <p>Install the packages in development mode.</p>
                                    <div class="highlight-console notranslate">
                                        <div class="highlight">
                                            <pre><span></span><span class="gp">$</span> pip install -U setuptools
<span class="gp">$</span> pip install -e .<span class="o">[</span>dev<span class="o">]</span>
<span class="gp">$</span> dffml service dev install
</pre>
                                        </div>
                                    </div>
                                </div>
                                <div class="section" id="containerized-development-environment">
                                    <h2><a class="toc-backref" href="#id4">Containerized Development Environment</a><a class="headerlink" href="#containerized-development-environment" title="Permalink to this headline">Â¶</a></h2>
                                    <p>Development environments can be a pain to setup, or can get messed up for
                                        unknown reasons sometimes. When all else fails, a clean container usually does
                                        the trick.</p>
                                    <ul class="simple">
                                        <li>
                                            <p><code class="docutils literal notranslate"><span class="pre">run</span></code></p>
                                            <ul>
                                                <li>
                                                    <p>Start a new container.</p>
                                                </li>
                                            </ul>
                                        </li>
                                        <li>
                                            <p><code class="docutils literal notranslate"><span class="pre">--rm</span></code></p>
                                            <ul>
                                                <li>
                                                    <p>Remove the container when you exit.</p>
                                                </li>
                                            </ul>
                                        </li>
                                        <li>
                                            <p><code class="docutils literal notranslate"><span class="pre">-ti</span></code></p>
                                            <ul>
                                                <li>
                                                    <p>Run the container as an interactive terminal session.</p>
                                                </li>
                                            </ul>
                                        </li>
                                        <li>
                                            <p><code class="docutils literal notranslate"><span class="pre">-u</span> <span class="pre">$(id</span> <span class="pre">-u):$(id</span> <span class="pre">-g)</span></code></p>
                                            <ul>
                                                <li>
                                                    <p>Preserve your file permissions and user to be the same in the container as
                                                        on your host system. (Instead of making you root, if you leave this off
                                                        youâll have to chown all your files back to your regular user when you exit
                                                        the container, I do not recommend being root in the container).</p>
                                                </li>
                                            </ul>
                                        </li>
                                        <li>
                                            <p><code class="docutils literal notranslate"><span class="pre">-v</span> <span class="pre">$PWD:/usr/src/dffml</span></code></p>
                                            <ul>
                                                <li>
                                                    <p>Use the directory youâre currently in (should be the root of the dffml repo)
                                                        as the /usr/src/dffml directory within the container.</p>
                                                </li>
                                            </ul>
                                        </li>
                                        <li>
                                            <p><code class="docutils literal notranslate"><span class="pre">-w</span> <span class="pre">/usr/src/dffml</span></code></p>
                                            <ul>
                                                <li>
                                                    <p>Make the current working directory of the container /usr/src/dffml when
                                                        started.</p>
                                                </li>
                                            </ul>
                                        </li>
                                        <li>
                                            <p><code class="docutils literal notranslate"><span class="pre">--entrypoint</span> <span class="pre">/bin/bash</span></code></p>
                                            <ul>
                                                <li>
                                                    <p>Run bash instead of the Python interpreter when you start the container.</p>
                                                </li>
                                            </ul>
                                        </li>
                                        <li>
                                            <p><code class="docutils literal notranslate"><span class="pre">python:3.7</span></code></p>
                                            <ul>
                                                <li>
                                                    <p>Download an run the docker image for running Python 3.7 applications.</p>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                    <div class="highlight-console notranslate">
                                        <div class="highlight">
                                            <pre><span></span><span class="gp">$</span> sudo docker run --rm -ti -u <span class="k">$(</span>id -u<span class="k">)</span>:<span class="k">$(</span>id -g<span class="k">)</span> <span class="se">\</span>
  -v <span class="nv">$PWD</span>:/usr/src/dffml -w /usr/src/dffml --entrypoint /bin/bash python:3.7
<span class="go">I have no name!@33ba998c91b3:/usr/src/dffml$ `# You are now in the container, your prompt will look something like this`</span>
</pre>
                                        </div>
                                    </div>
                                    <p>You can then setup a fake home directory for yourself in <code class="docutils literal notranslate"><span class="pre">.venv</span></code> and install
                                        all the packages in development mode.</p>
                                    <div class="highlight-console notranslate">
                                        <div class="highlight">
                                            <pre><span></span><span class="gp">$</span> rm -rf .venv/
<span class="gp">$</span> mkdir -p .venv
<span class="gp">$</span> <span class="nb">export</span> <span class="nv">HOME</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span><span class="s2">/.venv&quot;</span>
<span class="gp">$</span> <span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="s2">/.local/bin:</span><span class="si">${</span><span class="nv">PATH</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="gp">$</span> pip install --user -U pip setuptools
<span class="gp">$</span> pip install --prefix<span class="o">=</span>~/.local -e .<span class="o">[</span>dev<span class="o">]</span>
<span class="gp">$</span> dffml service dev install -user
</pre>
                                        </div>
                                    </div>
                                    <p>If things ever get messed up again, just wipe out <code class="docutils literal notranslate"><span class="pre">.venv</span></code> and re-install the
                                        packages. Otherwise, you can just start the container again using the same
                                        command, and export <code class="docutils literal notranslate"><span class="pre">HOME</span></code> and <code class="docutils literal notranslate"><span class="pre">PATH</span></code> to get back to your working
                                        environment.</p>
                                    <p>Iâd recommend editing the files in another terminal window if your vimto that.
                                        Or just using your favorite IDE as usual will work fine (since you mounted the
                                        source repo in as a volume). Also, run <code class="docutils literal notranslate"><span class="pre">git</span></code> from outside the container.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <footer>
                        <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
                            <a href="style.html" class="btn btn-neutral float-right" title="Style" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
                            <a href="dev_community.html" class="btn btn-neutral float-left" title="What To Work On" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
                        </div>
                        <hr />
                        <div role="contentinfo">
                            <p>
                                &copy; Copyright 2019, Intel
                            </p>
                        </div>
                        Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
                        <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
                        provided by <a href="https://readthedocs.org">Read the Docs</a>.
                    </footer>
                </div>
            </div>
        </section>
    </div>
    <script type="text/javascript">
    jQuery(function() {
        SphinxRtdTheme.Navigation.enable(true);
    });
    </script>
</body>

</html>